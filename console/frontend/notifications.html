<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notifications - Minecraft Console</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="css/design-system.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/theme-light.css" id="theme-link">
    <link rel="stylesheet" href="css/accessibility.css">
</head>
<body>
    <!-- Hamburger Menu Button (Mobile) -->
    <button class="hamburger-button" aria-label="Toggle navigation menu">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
    </button>

    <!-- Sidebar Overlay (Mobile) -->
    <div class="sidebar-overlay"></div>


    <a href="#main" class="skip-nav">Skip to main content</a>
    
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-header">
            <h1>Minecraft Server Console</h1>
            <div class="nav-controls">
                <button id="themeToggle" class="btn btn-icon" aria-label="Toggle dark mode">
                    <span class="theme-icon">ðŸŒ™</span>
                </button>
                <span id="username" class="username"></span>
                <button id="logoutBtn" class="btn btn-secondary">Logout</button>
            </div>
        </div>
        <ul class="nav-links">
            <li><a href="/index.html">Dashboard</a></li>
            <li><a href="/user-management.html">Users</a></li>
            <li><a href="/plugins-v2.html">Plugins</a></li>
            <li><a href="/automation.html">Automation</a></li>
            <li><a href="/map.html">Map</a></li>
            <li><a href="/notifications.html" class="active" aria-current="page">Notifications</a></li>
        </ul>
    </nav>

    <main id="main" class="container" role="main">
        <div class="section">
            <div class="section-header">
                <h2>Notifications</h2>
                <div class="section-actions">
                    <button id="markAllReadBtn" class="btn btn-secondary">Mark All Read</button>
                    <button id="preferencesBtn" class="btn btn-secondary">Preferences</button>
                    <button id="refreshBtn" class="btn btn-primary" aria-label="Refresh notifications">
                        ðŸ”„ Refresh
                    </button>
                </div>
            </div>

            <!-- Notification Filters -->
            <div class="filters">
                <div class="filter-group">
                    <label for="statusFilter">Status:</label>
                    <select id="statusFilter" class="select">
                        <option value="">All</option>
                        <option value="unread" selected>Unread</option>
                        <option value="read">Read</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="categoryFilter">Category:</label>
                    <select id="categoryFilter" class="select">
                        <option value="">All Categories</option>
                        <option value="server">Server</option>
                        <option value="plugin">Plugin</option>
                        <option value="user">User</option>
                        <option value="automation">Automation</option>
                        <option value="player">Player</option>
                        <option value="backup">Backup</option>
                        <option value="security">Security</option>
                        <option value="system">System</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="severityFilter">Severity:</label>
                    <select id="severityFilter" class="select">
                        <option value="">All Severities</option>
                        <option value="debug">Debug</option>
                        <option value="info">Info</option>
                        <option value="warning">Warning</option>
                        <option value="error">Error</option>
                        <option value="critical">Critical</option>
                    </select>
                </div>
            </div>

            <!-- Notification List -->
            <div id="notificationList" class="notification-list" role="list">
                <div class="loading">Loading notifications...</div>
            </div>

            <!-- Pagination -->
            <div id="pagination" class="pagination hidden">
                <button id="prevPageBtn" class="btn btn-secondary" disabled>Previous</button>
                <span id="pageInfo">Page 1</span>
                <button id="nextPageBtn" class="btn btn-secondary">Next</button>
            </div>
        </div>
    </main>

    <!-- Preferences Modal -->
    <div id="preferencesModal" class="modal hidden" role="dialog" aria-labelledby="preferencesTitle" aria-modal="true">
        <div class="modal-content">
            <h3 id="preferencesTitle">Notification Preferences</h3>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="prefEnabled" checked>
                    Enable Notifications
                </label>
            </div>

            <div class="form-group">
                <label for="prefChannels">Delivery Channels:</label>
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" name="channels" value="web" checked>
                        Web Notifications
                    </label>
                    <label>
                        <input type="checkbox" name="channels" value="toast" checked>
                        Toast Popups
                    </label>
                    <label>
                        <input type="checkbox" name="channels" value="inbox" checked>
                        Inbox
                    </label>
                </div>
            </div>

            <div class="form-group">
                <label for="prefSeverity">Minimum Severity:</label>
                <select id="prefSeverity" class="select">
                    <option value="debug">Debug</option>
                    <option value="info" selected>Info</option>
                    <option value="warning">Warning</option>
                    <option value="error">Error</option>
                    <option value="critical">Critical</option>
                </select>
            </div>

            <div class="form-group">
                <label for="prefCategories">Event Categories (leave empty for all):</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="categories" value="server"> Server</label>
                    <label><input type="checkbox" name="categories" value="plugin"> Plugin</label>
                    <label><input type="checkbox" name="categories" value="user"> User</label>
                    <label><input type="checkbox" name="categories" value="automation"> Automation</label>
                    <label><input type="checkbox" name="categories" value="player"> Player</label>
                    <label><input type="checkbox" name="categories" value="backup"> Backup</label>
                    <label><input type="checkbox" name="categories" value="security"> Security</label>
                    <label><input type="checkbox" name="categories" value="system"> System</label>
                </div>
            </div>

            <div class="form-group">
                <label>Quiet Hours:</label>
                <div class="time-range">
                    <input type="time" id="prefQuietStart" class="input">
                    <span>to</span>
                    <input type="time" id="prefQuietEnd" class="input">
                </div>
                <small>During quiet hours, only critical notifications will be shown</small>
            </div>

            <div class="modal-buttons">
                <button id="savePreferencesBtn" class="btn btn-primary">Save</button>
                <button id="cancelPreferencesBtn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container" role="status" aria-live="polite" aria-atomic="true">            </main>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/sidebar.js"></script>
    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
    <script src="/js/themeManager.js"></script>
    <script src="/js/accessibility.js"></script>
    <script src="/js/utils.js"></script>
    <script src="/js/notificationsPage.js"></script>
</body>
</html>
